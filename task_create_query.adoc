---
sidebar: sidebar 
permalink: task_create_query.html 
summary: 쿼리를 사용하면 자산과 관심 메트릭을 쉽고 빠르게 파악할 수 있습니다. 
keywords: query, queries 
---
= 쿼리 만들기


[role="lead"]
쿼리를 사용하면 환경 내의 자산을 세부 수준에서 검색할 수 있으므로 원하는 데이터를 필터링하고 원하는 대로 결과를 정렬할 수 있습니다.

예를 들어, _volumes_에 대한 쿼리를 생성하고, 선택한 볼륨과 관련된 특정 _storages_를 찾기 위한 필터를 추가하고, 다른 필터를 추가하여 선택한 저장소의 "Tier 1"과 같은 특정_annotation_을 찾을 수 있습니다. 마지막으로, 다른 필터를 추가하여 25보다 큰 _IOPS-읽기(입출력/초)_를 가진 모든 스토리지를 찾습니다. 결과가 표시되면 쿼리와 관련된 정보 열을 오름차순 또는 내림차순으로 정렬할 수 있습니다.

참고: 자산을 취득하는 새 데이터 수집기가 추가되거나 주석 또는 응용 프로그램 할당이 이루어진 경우 쿼리를 인덱싱한 후에만 이러한 새 자산, 주석 또는 응용 프로그램을 쿼리할 수 있습니다. 인덱싱은 정기적으로 예약된 간격이나 주석 규칙 실행과 같은 특정 이벤트 중에 발생합니다.

.쿼리 만들기는 매우 간단합니다.
. 쿼리 > * + 새 쿼리 * 로 이동합니다.
. '선택...' 목록에서 쿼리할 개체 유형을 선택합니다. 목록을 스크롤하거나 입력을 시작하여 검색 중인 항목을 보다 빠르게 찾을 수 있습니다.


image:QueryDrop-DownList.png["쿼리 드롭다운"]

image:QueryPageFilter.png["를 입력하여 찾습니다"]

필터 기준 * 필드에서 * + * 버튼을 클릭하여 필터를 추가하여 쿼리 범위를 좁힐 수 있습니다. 오브젝트 또는 속성별로 행을 그룹화합니다. 통합 데이터(Kubernetes, ONTAP 고급 메트릭 등)를 사용할 경우 원하는 경우 여러 가지 특성을 기준으로 그룹화할 수 있습니다.

image:QueryFilterExample.png["쿼리 필터링 및 그룹화"]

쿼리 결과 목록에는 검색된 개체 유형에 따라 여러 개의 기본 열이 표시됩니다. 열을 추가, 제거 또는 변경하려면 표 오른쪽에 있는 기어 아이콘을 클릭합니다. 사용 가능한 열은 자산/메트릭 유형에 따라 달라집니다.

image:QuerySelectColumns.png["열을 선택합니다"]

원하는 결과를 표시하도록 쿼리를 구성한 후 * 저장 * 버튼을 클릭하여 나중에 사용할 수 있도록 쿼리를 저장할 수 있습니다. 의미 있고 고유한 이름을 지정합니다.



=== 필터링에 대한 추가 정보



==== 와일드카드와 식

쿼리 또는 대시보드 위젯에서 텍스트 또는 목록 값을 필터링할 때 입력을 시작하면 현재 텍스트를 기반으로 * 와일드카드 필터 * 를 만드는 옵션이 표시됩니다. 이 옵션을 선택하면 와일드카드 식과 일치하는 모든 결과가 반환됩니다. NOT 또는 OR을 사용하여 * 식 * 을 만들거나 "없음" 옵션을 선택하여 필드의 null 값을 필터링할 수도 있습니다.

image:Type-Ahead-Example-ingest.png["와일드카드 필터"]

와일드카드 또는 식(예 NOT, 또는, "없음" 등)이 필터 필드에 진한 파란색으로 표시됩니다. 목록에서 직접 선택한 항목은 연한 파란색으로 표시됩니다.

image:Type-Ahead-Example-Wildcard-DirectSelect.png["와일드카드 필터 결과"]

와일드카드 및 식 필터링은 텍스트 또는 목록과 함께 사용할 수 있지만 수치, 날짜 또는 부울은 사용할 수 없습니다.



==== 필터 다듬기

다음을 사용하여 필터를 구체화할 수 있습니다.

|===


| 필터 | 기능 | 예 | 결과 


| * (별표) | 모든 것을 검색할 수 있습니다 | 볼륨 * rhel | "vol"로 시작하고 "rhel"로 끝나는 모든 리소스를 반환합니다. 


| ? (물음표) | 특정 수의 문자를 검색할 수 있습니다 | BOS-PRD??- S12 | BOS-PRD**__12__**-S12, BOS-PRD**__23__**-S12 등을 반환합니다 


| 또는 | 여러 요소를 지정할 수 있습니다 | FAS2240 또는 CX600 또는 FAS3270 | FAS2440, CX600 또는 FAS3270을 반환합니다 


| 아닙니다 | 검색 결과에서 텍스트를 제외할 수 있습니다 | EMC가 아님 * | "EMC"로 시작하지 않는 모든 항목을 반환합니다. 


| _없음_ | 모든 필드에서 NULL 값을 검색합니다 | _없음_ | 대상 필드가 비어 있는 결과를 반환합니다 


| NOT * | _text-only_fields에서 NULL 값을 검색합니다 | NOT * | 대상 필드가 비어 있는 결과를 반환합니다 
|===
필터 문자열을 큰따옴표로 묶으면 Insight는 첫 번째 견적과 마지막 견적 사이의 모든 항목을 정확히 일치하는 것으로 간주합니다. 따옴표 안에 있는 모든 특수 문자나 연산자는 리터럴로 처리됩니다. 예를 들어 "*"를 필터링하면 리터럴 별표로 된 결과가 반환되고, 이 경우 별표는 와일드카드로 처리되지 않습니다. 연산자 또는 는 큰따옴표로 묶으면 리터럴 문자열로 처리됩니다.



=== 쿼리 결과가 있습니다. 이제 어떻게 해야 합니까?

쿼리를 사용하면 주석을 추가하거나 자산을 응용 프로그램에 할당할 수 있습니다. 애플리케이션 또는 주석은 재고 자산(디스크, 스토리지 등)에만 할당할 수 있습니다. 통합 메트릭은 주석 또는 애플리케이션 할당에 사용할 수 없습니다.

쿼리에서 생성된 자산에 주석 또는 응용 프로그램을 할당하려면 결과 테이블 왼쪽의 확인란 열을 사용하여 자산을 선택한 다음 오른쪽의 * Bulk Actions * 버튼을 클릭합니다. 선택한 자산에 적용할 작업을 선택합니다.

image:QueryVolumeBulkActions.png["쿼리 대량 작업 예제"]



=== 주석 규칙에는 쿼리가 필요합니다

를 구성하는 경우 link:task_create_annotation_rules.html["주석 규칙"]각 규칙에 사용할 기본 쿼리가 있어야 합니다. 하지만 위에서 살펴본 것처럼 쿼리를 필요한 만큼 광범위하고 좁힐 수 있습니다.
